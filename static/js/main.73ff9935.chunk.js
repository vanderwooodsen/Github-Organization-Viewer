(this.webpackJsonpgithub_viewer_task=this.webpackJsonpgithub_viewer_task||[]).push([[0],{100:function(e,t){},110:function(e,t,r){"use strict";r.r(t);var n,a=r(3),c=r.n(a),s=r(34),o=r.n(s),i=(r(74),r(8)),l=r(6),u=r(1),b=r.n(u),d=r(5),m=r(20),j=r(50);function p(e,t,r,n){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(b.a.mark((function e(t,r,n,a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.rest.repos.listCommits({owner:r,repo:n,per_page:5,page:a});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=e.githubViewer.accessToken;return""!==t?new j.a({auth:t}):new j.a}var f=Object(m.b)("currentRepository/set",function(){var e=Object(d.a)(b.a.mark((function e(t,r){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),a=x(n),c=n.githubViewer.organization.login,e.next=5,p(a,c,t,0);case 5:return e.t0=e.sent,e.t1=t,e.abrupt("return",{commits:e.t0,repository:e.t1});case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),h=Object(m.b)("organization/set",function(){var e=Object(d.a)(b.a.mark((function e(t,r){var n,a,c,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),a=x(n),e.next=4,a.rest.orgs.get({org:t});case 4:return c=e.sent,e.next=7,a.paginate(a.rest.repos.listForOrg,{org:t,type:"public",per_page:100});case 7:return s=(s=e.sent).sort((function(e,t){return t.stargazers_count-e.stargazers_count})),o=s[0].name,e.t0=c.data,e.t1=s,e.t2=o,e.next=15,p(a,t,o,0);case 15:return e.t3=e.sent,e.abrupt("return",{orgData:e.t0,repos:e.t1,repository:e.t2,commits:e.t3});case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),O=Object(m.b)("commits/load",function(){var e=Object(d.a)(b.a.mark((function e(t,r){var n,a,c,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),a=x(n),c=n.githubViewer.organization.login,s=n.githubViewer.currentRepository,o=n.githubViewer.commitsPage,e.next=7,p(a,c,s,o+1);case 7:return e.t0=e.sent,e.t1=o+1,e.abrupt("return",{nextCommits:e.t0,page:e.t1});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),y=Object(m.c)({name:"githubViewer",initialState:{repository:"Christi",repositories:[],commits:null,organization:null,accessToken:"",currentRepository:"",commitsPage:0,loading:!1,loadingError:null},reducers:{setAccessToken:function(e,t){e.accessToken=t.payload}},extraReducers:(n={},Object(l.a)(n,h.pending,(function(e,t){e.loading=!0,e.loadingError=null})),Object(l.a)(n,f.pending,(function(e,t){e.loading=!0,e.loadingError=null})),Object(l.a)(n,O.pending,(function(e,t){e.loading=!0,e.loadingError=null})),Object(l.a)(n,h.rejected,(function(e,t){e.loading=!1,e.loadingError=t.payload})),Object(l.a)(n,f.rejected,(function(e,t){e.loading=!1,e.loadingError=t.payload})),Object(l.a)(n,O.rejected,(function(e,t){e.loading=!1,e.loadingError=t.payload})),Object(l.a)(n,h.fulfilled,(function(e,t){e.repositories=t.payload.repos,e.organization=t.payload.orgData,e.currentRepository=t.payload.repository,e.commits=t.payload.commits,e.commitsPage=0,e.loading=!1,e.loadingError=null})),Object(l.a)(n,f.fulfilled,(function(e,t){e.commits=t.payload.commits,e.currentRepository=t.payload.repository,e.commitsPage=0,e.loading=!1,e.loadingError=null})),Object(l.a)(n,O.fulfilled,(function(e,t){e.commits=e.commits.concat(t.payload.nextCommits),e.commitsPage=t.payload.page,e.loading=!1,e.loadingError=null})),n)}),v=y.actions.setAccessToken,w=function(e){return e.githubViewer.currentRepository},N=function(e){return e.githubViewer.repositories},k=function(e){return e.githubViewer.commits},E=function(e){return e.githubViewer.organization},V=function(e){return e.githubViewer.loading},z=function(e){return e.githubViewer.loadingError},S=y.reducer,_=r(10),C=r(39),D=r.n(C),R=r(2);function Y(e){var t=e.commit,r=t.commit.message,n=r.indexOf("\n");return-1!==n&&(r=r.substring(0,n)),Object(R.jsxs)("div",{className:"bg-gray-700 py-3 px-3 border-blue-300 border-2 mb-1",children:[Object(R.jsx)("div",{className:"text-l tracking-wide\tline-clamp-2",children:r}),Object(R.jsxs)("div",{className:"mt-1 text-blue-400 font-normal text-sm",children:[t.commit.committer.name,Object(R.jsx)("span",{className:"px-1 text-blue-200",children:"commited at "}),Object(R.jsx)("span",{className:"text-sm  font-light text-blue-200",children:Object(R.jsx)(D.a,{format:"YYYY MMM DD",children:t.commit.committer.date})})]}),Object(R.jsx)("div",{className:"text-sm flex-row justify-evenly mt-1",children:Object(R.jsx)("span",{className:" text-xs font-light text-gray-500",children:t.sha})})]})}function M(){var e=Object(_.c)(k),t=Object(_.b)();return null===e?Object(R.jsx)("div",{className:"p-10 min-h-full text-blue-700",children:"Select a repostitory"}):Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{className:"my-3 mr-3 bg-gray-700 rounded-2xl border-top-1 border-blue-300",children:[Object(R.jsx)("h2",{className:"text-2xl p-5 pb-2 text-blue-200",children:"Commits"}),Object(R.jsx)("div",{className:"bg-yellow-100",children:e.map((function(e){return Object(R.jsx)(Y,{commit:e},e.sha)}))})]}),Object(R.jsxs)("div",{className:"text-center",children:["\xdf      ",Object(R.jsx)("button",{className:"px-4 rounded-lg bg-gray-800  text-white font-bold p-4 uppercase border-gray-900 border",onClick:function(){t(O())},children:"Load more"})]})]})}var P=r(41);function T(e){var t=e.repo,r=Object(_.c)(w),n=Object(_.b)();return Object(R.jsxs)("div",{className:"px-10 py-5 cursor-pointer hover:bg-green-800\n        ".concat(r===t.name?"bg-green-900":""),onClick:function(){n(f(t.name))},children:[Object(R.jsx)("div",{className:"text-xl font-bold tracking-wide\t",children:t.name}),Object(R.jsx)("div",{className:"text-blue-400 font-normal text-sm",children:t.description}),Object(R.jsxs)("div",{className:"text-sm flex-row justify-evenly mt-2 items-center",children:[Object(R.jsxs)("span",{className:"align-bottom",children:[Object(R.jsx)(P.c,{className:"text-yellow-400 inline-block text-sm mr-1"}),t.stargazers_count]}),Object(R.jsxs)("span",{className:"font-semibold ml-2",children:[" ",t.language," "]}),Object(R.jsxs)("span",{className:"ml-2 align-bottom",children:[Object(R.jsx)(P.b,{className:"text-yellow-400 inline-block"}),t.forks]}),Object(R.jsxs)("span",{className:"ml-2 align-bottom",children:[Object(R.jsx)(P.a,{className:"text-yellow-400 inline-block mr-1 "}),Object(R.jsx)(D.a,{format:"YYYY MMM DD",children:t.created_at})]})]})]})}function A(){var e=Object(_.c)(N);return Object(R.jsxs)("div",{className:"rounded-xl border-blue-300 bg-green-700 m-3 shadow-lg drop-shadow",children:[Object(R.jsx)("h2",{className:"text-2xl m-5 mb-2 font-bold",children:"Repositories"}),Object(R.jsx)("div",{className:"divide-red-200 divide-y",children:e.map((function(e){return Object(R.jsx)(T,{repo:e},e.id)}))})]})}var G=r(69);function I(){return Object(R.jsx)("div",{className:"w-full h-full fixed top-0 left-0 bg-white opacity-75 z-50 flex justify-center items-center",children:Object(R.jsx)("span",{className:"text-green-500 opacity-90",children:Object(R.jsx)(G.a,{className:"animate-spin w-20 h-20"})})})}function B(){return Object(R.jsx)("div",{className:"w-full h-full fixed top-0 left-0 bg-white opacity-75 z-50 flex justify-center items-center",children:Object(R.jsx)("span",{className:"text-red-500 opacity-90",children:"There was an error loading data"})})}function J(){var e=Object(_.c)(E),t=Object(_.b)(),r=Object(a.useState)(""),n=Object(i.a)(r,2),c=n[0],s=n[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),u=l[0],b=l[1],d=Object(_.c)(V),m=Object(_.c)(z);return Object(a.useEffect)((function(){t(h("netflix"))}),[t]),Object(R.jsxs)("div",{children:[d&&Object(R.jsx)(I,{}),null!==m&&Object(R.jsx)(B,{}),Object(R.jsxs)("div",{className:"bg-blue-400  py-1 px-4 flex justify-between items-center",children:[Object(R.jsxs)("span",{className:"p-2",children:["Github allows only 60 unauthenticated requests per hour per IP. ",Object(R.jsx)("br",{})," If you see errors"," ",Object(R.jsx)("a",{href:"https://github.com/settings/tokens/new",className:"underline text-blue-900",children:"create"})," ","and enter your Github API token."]}),Object(R.jsx)("span",{children:Object(R.jsxs)("form",{className:"flex",onSubmit:function(e){e.preventDefault(),t(v(u)),b("")},children:[Object(R.jsx)("input",{className:"rounded-l-lg p-2 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-yellow-50",placeholder:"Github Access Token",value:u,onChange:function(e){return b(e.target.value)}}),Object(R.jsx)("button",{className:"rounded-r-lg bg-gray-800  text-white font-bold p-1 px-4 uppercase border-gray-900 border-t border-b border-r",children:"Update"})]})})]}),Object(R.jsxs)("div",{className:"bg-yellow-400  p-5 flex justify-between",children:[Object(R.jsx)("span",{className:"pl-4 font-semibold text-5xl border-gray-200 text-yellow-50",children:null===e||void 0===e?void 0:e.name}),Object(R.jsx)("span",{children:Object(R.jsxs)("form",{className:"flex",onSubmit:function(e){e.preventDefault(),t(h(c))},children:[Object(R.jsx)("input",{className:"rounded-l-lg p-2 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-yellow-50",placeholder:"Organization",value:c,onChange:function(e){return s(e.target.value)}}),Object(R.jsx)("button",{className:"px-4 rounded-r-lg bg-gray-800  text-white font-bold p-4 uppercase border-gray-900 border-t border-b border-r",children:"GO"})]})})]}),Object(R.jsxs)("div",{className:"grid grid-cols-2 bg-yellow-100 gap-0.5",children:[Object(R.jsx)(A,{}),Object(R.jsx)(M,{})]})]})}var W=function(){return Object(R.jsx)(J,{})},q=Object(m.a)({reducer:{githubViewer:S}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(_.a,{store:q,children:Object(R.jsx)(W,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},74:function(e,t,r){}},[[110,1,2]]]);
//# sourceMappingURL=main.73ff9935.chunk.js.map